function modularityGoogleCalendar(){ModularityGoogleApps.Module.Calendar.init()}var ModularityGoogleApps=ModularityGoogleApps||{};ModularityGoogleApps.Module=ModularityGoogleApps.Module||{},ModularityGoogleApps.Module.Calendar=function(t){function o(){this.handleEvents()}var e="1041367213696-326pvm5bjfvg6i15o40tvfb6shk14p41.apps.googleusercontent.com",n=["https://www.googleapis.com/auth/calendar.readonly"];return o.prototype.handleEvents=function(){t(document).on("click",".modularity-mod-g-calendar",function(t){t.preventDefault(),this.auth()}.bind(this))},o.prototype.init=function(){this.checkAuth()},o.prototype.checkAuth=function(){gapi.auth.authorize({client_id:e,scope:n.join(" "),immediate:!0},this.handleAuthResponse)},o.prototype.handleAuthResponse=function(t){return t&&!t.error?void console.log("Access granted"):void ModularityGoogleApps.Module.Calendar.showAuthButtons()},o.prototype.auth=function(){return gapi.auth.authorize({client_id:e,scope:n,immediate:!1},this.handleAuthResult),!1},o.prototype.showAuthButtons=function(){t(".modularity-mod-g-calendar .box-content").append('<div class="gutter text-center"><div class="gutter gutter-bottom"><strong>Privat kalender.</strong> Du måste logga in med ditt Google-konto för att se kalendern.</div><button data-action="google-auth">Logga in</button></div>')},new o}(jQuery);