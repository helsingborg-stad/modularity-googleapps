function modularityGoogleApps(){"undefined"!=typeof ModularityGoogleApps.Module.Calendar&&ModularityGoogleApps.Module.Calendar.init()}var ModularityGoogleApps={};ModularityGoogleApps=ModularityGoogleApps||{},ModularityGoogleApps.clientId=ModularityGoogleCalendarLang.clientId,ModularityGoogleApps.scopes=["https://www.googleapis.com/auth/calendar.readonly"],ModularityGoogleApps.Auth=function(o){function e(){return ModularityGoogleApps.clientId?void this.handleEvents():void console.error("No Google API Client ID given in the Modularity settings.")}return e.prototype.handleEvents=function(){o(document).on("click",'[data-action="google-auth"]',function(o){o.preventDefault(),this.showAuthDialog()}.bind(this))},e.prototype.checkAuth=function(o){gapi.auth.authorize({client_id:ModularityGoogleApps.clientId,scope:ModularityGoogleApps.scopes.join(" "),immediate:!0},o)},e.prototype.defaultHandleAuthResponse=function(o){return o&&!o.error?(location.reload(),!0):!1},e.prototype.showAuthDialog=function(){return gapi.auth.authorize({client_id:ModularityGoogleApps.clientId,scope:ModularityGoogleApps.scopes,immediate:!1},this.defaultHandleAuthResponse),!1},new e}(jQuery);